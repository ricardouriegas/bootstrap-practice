<!-- index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SocialConnect | Registro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb;
            --hover-color: #1d4ed8;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        .btn-primary {
            background-color: var(--primary-color);
            border: none;
        }

        .btn-primary:hover {
            background-color: var(--hover-color);
        }

        .container.py-5 {
            max-width: 1200px;
        }
        
        .card {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .card-img-top {
            height: 250px;
            object-fit: cover;
        }
        
        .form-control, .form-select {
            max-width: 100%;
            height: 45px;
        }
    </style>
</head>
<body class="gradient-bg">
    <!-- Navigation buttons -->
    <div class="container text-center my-3">
        <div class="btn-group" role="group">
            <a href="index.html" class="btn btn-primary mx-1">Inicio</a>
            <a href="login.html" class="btn btn-primary mx-1">Iniciar Sesión</a>
            <a href="register.html" class="btn btn-primary mx-1">Registro</a>
            <a href="perfil.html" class="btn btn-primary mx-1">Perfil</a>
            <a href="timeline.html" class="btn btn-primary mx-1">Timeline</a>
        </div>
    </div>
    
    <!-- register.html -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow">
                    <!-- Agregado: imagen de ejemplo con Picsum -->
                    <img src="https://picsum.photos/800/200" class="card-img-top" alt="Imagen de ejemplo">
                    <div class="card-body p-4">
                        <h2 class="text-center mb-2">Registro de nuevo usuario</h2>
                        <!-- Agregado: descripción breve para Instagram-like -->
                        <p class="text-center mb-4">Regístrate para compartir tus imágenes y videos con el mundo. Las entradas marcadas con asterisco son obligatorias<\p>
                        <form id="registerForm">
                            <!-- Nuevo campo: username -->
                            <div class="mb-3">
                                <input type="text" class="form-control" id="username" placeholder="Username *" required>
                            </div>
                            <!-- Nuevo campo: password -->
                            <div class="mb-3">
                                <input type="password" class="form-control" id="password" placeholder="Password *" required>
                            </div>
                            <!-- Nuevo campo: confirmar password -->
                            <div class="mb-3">
                                <input type="password" class="form-control" id="confirmPassword" placeholder="Confirmar Password *" required>
                            </div>
                            <!-- Nuevo campo: email -->
                            <div class="mb-3">
                                <input type="email" class="form-control" id="email" placeholder="Correo electrónico *" required>
                            </div>
                            <!-- Nuevo campo: nombre -->
                            <div class="mb-3">
                                <input type="text" class="form-control" id="nombre" placeholder="Nombre *" required>
                            </div>
                            <!-- Nuevo campo: apellidos (opcional) -->
                            <div class="mb-3">
                                <input type="text" class="form-control" id="apellidos" placeholder="Apellidos">
                            </div>
                            <!-- Modificar las opciones del género -->
                            <div class="mb-3">
                                <select class="form-select" id="gender" required>
                                    <option value="">[Seleccione]</option>
                                    <option value="Hombre">Hombre</option>
                                    <option value="Mujer">Mujer</option>
                                    <option value="NoAplica">No Aplica</option>
                                    <option value="PrefieroNoDecirlo">Prefiero no Decirlo</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                            <!-- Campo para especificar género si se selecciona "Otro" -->
                            <div class="mb-3 d-none" id="otherGenderContainer">
                                <input type="text" class="form-control" id="otherGender" placeholder="Especificar género">
                            </div>
                            <!-- Nuevo campo: fecha de nacimiento -->
                            <div class="mb-3">
                                <input type="date" class="form-control" id="birthdate" placeholder="Fecha de nacimiento *" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 mt-4">Registrarse</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- Cierre del contenedor principal -->
    <!-- Navbar eliminado -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Validación del formulario
    $('#registerForm').submit(function(e) {
        e.preventDefault();
        let errors = [];

        const username = $('#username').val().trim();
        const password = $('#password').val();
        const confirmPassword = $('#confirmPassword').val();
        const email = $('#email').val().trim();
        const nombre = $('#nombre').val().trim();
        const gender = $('#gender').val();
        const otherGender = $('#otherGender').val().trim();
        const birthdate = $('#birthdate').val();

        // Validaciones de campos obligatorios
        if (!username) errors.push("Username es obligatorio");
        if (!password) errors.push("Password es obligatorio");
        if (!confirmPassword) errors.push("Confirmar Password es obligatorio");
        if (!email) errors.push("Correo electrónico es obligatorio");
        if (!nombre) errors.push("Nombre es obligatorio");
        if (!gender) errors.push("Género es obligatorio");
        if (gender === 'Otro' && !otherGender) errors.push("Debe especificar el género");
        if (!birthdate) errors.push("Fecha de nacimiento es obligatoria");

        // Validación de email mejorada
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if(email && !emailRegex.test(email)) {
            errors.push("El formato del correo electrónico no es válido");
        }

        // Validar que las contraseñas coincidan
        if(password && confirmPassword && password !== confirmPassword) {
            errors.push("Las contraseñas no coinciden");
        }

        // Validar edad mínima de 18 años
        if(birthdate) {
            const birth = new Date(birthdate);
            const today = new Date();
            let age = today.getFullYear() - birth.getFullYear();
            const m = today.getMonth() - birth.getMonth();
            if(m < 0 || (m === 0 && today.getDate() < birth.getDate())) {
                age--;
            }
            if(age < 18) {
                errors.push("Debe ser mayor de 18 años para registrarse");
            }
        }

        if(errors.length > 0) {
            alert("Por favor corrija los siguientes errores:\n- " + errors.join("\n- "));
            return false;
        }

        alert("Registro completado exitosamente.");
        // Aquí iría el código para enviar el formulario
    });

    // Mostrar/Ocultar campo "Otro" para género
    $('#gender').change(function() {
        if($(this).val() === 'Otro') {
            $('#otherGenderContainer').removeClass('d-none');
            $('#otherGender').prop('required', true);
        } else {
            $('#otherGenderContainer').addClass('d-none');
            $('#otherGender').prop('required', false);
        }
    });
</script>

</body>
</html>
